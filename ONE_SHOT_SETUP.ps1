# ============================================================================
# ONE-SHOT SETUP - Copy and paste this entire block into PowerShell
# ============================================================================
# This single command sequence sets up everything automatically
# ============================================================================

Write-Host "üöÄ Full-Stack Project Setup Starting..." -ForegroundColor Cyan; Write-Host ""; Write-Host "üì¶ Step 1: Installing Frontend Dependencies..." -ForegroundColor Yellow; npm install; if ($LASTEXITCODE -ne 0) { Write-Host "‚ùå Frontend install failed!" -ForegroundColor Red; exit 1 } else { Write-Host "‚úÖ Frontend dependencies installed" -ForegroundColor Green }; Write-Host ""; Write-Host "üì¶ Step 2: Installing Backend Dependencies..." -ForegroundColor Yellow; Set-Location server; npm install; if ($LASTEXITCODE -ne 0) { Write-Host "‚ùå Backend install failed!" -ForegroundColor Red; Set-Location ..; exit 1 } else { Write-Host "‚úÖ Backend dependencies installed" -ForegroundColor Green; Set-Location .. }; Write-Host ""; Write-Host "‚öôÔ∏è  Step 3: Configuring Environment Variables..." -ForegroundColor Yellow; if (-not (Test-Path "server\.env")) { if (Test-Path "server\env.example.txt") { Copy-Item "server\env.example.txt" "server\.env"; Write-Host "‚úÖ Created server\.env from example" -ForegroundColor Green } else { New-Item -Path "server\.env" -ItemType File -Force | Out-Null; Write-Host "‚úÖ Created empty server\.env file" -ForegroundColor Green } } else { Write-Host "‚ÑπÔ∏è  server\.env already exists (skipping)" -ForegroundColor Blue }; if (-not (Test-Path ".env")) { $envContent = "VITE_API_URL=http://localhost:5000/api`n"; Set-Content -Path ".env" -Value $envContent; Write-Host "‚úÖ Created .env with default API URL" -ForegroundColor Green } else { Write-Host "‚ÑπÔ∏è  .env already exists (skipping)" -ForegroundColor Blue }; Write-Host ""; Write-Host "‚úÖ Setup Complete!" -ForegroundColor Green; Write-Host ""; Write-Host "‚ö†Ô∏è  IMPORTANT NEXT STEPS:" -ForegroundColor Yellow; Write-Host "   1. Edit server\.env and configure:" -ForegroundColor White; Write-Host "      - MONGODB_URI (local or Atlas connection string)" -ForegroundColor Gray; Write-Host "      - SMTP_USER (your Gmail address)" -ForegroundColor Gray; Write-Host "      - SMTP_PASS (Gmail App Password - NOT regular password!)" -ForegroundColor Gray; Write-Host "      - ADMIN_EMAIL (where contact submissions are sent)" -ForegroundColor Gray; Write-Host "      - JWT_SECRET (random secret key, 32+ characters)" -ForegroundColor Gray; Write-Host ""; Write-Host "   2. To start servers, run:" -ForegroundColor White; Write-Host "      .\start-dev.ps1" -ForegroundColor Cyan; Write-Host "      OR manually start in separate terminals:" -ForegroundColor Gray; Write-Host "      Terminal 1: Set-Location server; npm run dev" -ForegroundColor Gray; Write-Host "      Terminal 2: npm run dev" -ForegroundColor Gray; Write-Host ""; Write-Host "   3. Test at: http://localhost:5173" -ForegroundColor White; Write-Host ""
